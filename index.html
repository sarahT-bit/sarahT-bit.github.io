<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CS Tutoring Platform</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }
    header {
      background: #222;
      color: white;
      padding: 15px;
      text-align: center;
      font-size: 1.5em;
    }
    #appContainer {
      display: flex;
      height: calc(100vh - 60px);
    }
    #sidebar {
      width: 150px;
      background: #333;
      display: flex;
      flex-direction: column;
    }
    #sidebar button {
      padding: 15px;
      color: white;
      background: none;
      border: none;
      text-align: left;
      border-bottom: 1px solid #444;
      cursor: pointer;
    }
    #sidebar button:hover,
    #sidebar button.active {
      background: #555;
    }
    #mainContent {
      flex: 1;
      position: relative;
    }
    .toolSection {
      display: none;
      height: 100%;
    }
    .toolSection.active {
      display: block;
    }
    textarea {
      width: 100%;
      height: 100%;
      font-size: 1rem;
      font-family: monospace;
      resize: none;
      border: none;
      padding: 10px;
    }
    canvas#whiteboard {
      width: 100%;
      height: 100%;
      background: #fff;
      cursor: crosshair;
    }
    #videoCallPanel {
      position: fixed;
      top: 70px;
      right: 10px;
      width: 300px;
      height: 450px;
      background: #222;
      border-radius: 8px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      box-shadow: 0 0 8px rgba(0,0,0,0.4);
      z-index: 10;
    }
    #videoCallPanel video {
      width: 100%;
      height: 60%;
      object-fit: cover;
      background: black;
    }
    #chatBox {
      flex: 1;
      background: #111;
      display: flex;
      flex-direction: column;
    }
    #chatMessages {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      color: white;
      font-size: 0.9rem;
    }
    #chatInputContainer {
      display: flex;
    }
    #chatInput {
      flex: 1;
      border: none;
      padding: 10px;
      font-size: 1rem;
    }
    #sendBtn {
      background: #09f;
      color: white;
      border: none;
      padding: 10px 15px;
      cursor: pointer;
    }
    #sendBtn:hover {
      background: #06c;
    }
  </style>
</head>
<body>
  <header>CS Tutoring Platform</header>
  <div id="appContainer">
    <div id="sidebar">
      <button id="btnWhiteboard" class="active">Whiteboard</button>
      <button id="btnCode">Code Editor</button>
      <button id="btnText">Text Editor</button>
    </div>
    <div id="mainContent">
      <div id="whiteboardSection" class="toolSection active">
        <canvas id="whiteboard"></canvas>
      </div>
      <div id="codeEditorSection" class="toolSection">
        <textarea id="codeEditor" placeholder="// Type code here..."></textarea>
      </div>
      <div id="textEditorSection" class="toolSection">
        <textarea id="textEditor" placeholder="Write notes here..."></textarea>
      </div>
    </div>
  </div>

  <div id="videoCallPanel">
    <video id="localVideo" autoplay muted playsinline></video>
    <video id="remoteVideo" autoplay playsinline></video>
    <div id="chatBox">
      <div id="chatMessages"></div>
      <div id="chatInputContainer">
        <input type="text" id="chatInput" placeholder="Type a message..." />
        <button id="sendBtn">Send</button>
      </div>
    </div>
  </div>

  <script>
    // Navigation
    const whiteboardBtn = document.getElementById('btnWhiteboard');
    const codeBtn = document.getElementById('btnCode');
    const textBtn = document.getElementById('btnText');

    const whiteboardSection = document.getElementById('whiteboardSection');
    const codeSection = document.getElementById('codeEditorSection');
    const textSection = document.getElementById('textEditorSection');

    function activateSection(section) {
      whiteboardSection.classList.remove('active');
      codeSection.classList.remove('active');
      textSection.classList.remove('active');

      whiteboardBtn.classList.remove('active');
      codeBtn.classList.remove('active');
      textBtn.classList.remove('active');

      if (section === 'whiteboard') {
        whiteboardSection.classList.add('active');
        whiteboardBtn.classList.add('active');
      } else if (section === 'code') {
        codeSection.classList.add('active');
        codeBtn.classList.add('active');
      } else {
        textSection.classList.add('active');
        textBtn.classList.add('active');
      }
    }

    whiteboardBtn.addEventListener('click', () => activateSection('whiteboard'));
    codeBtn.addEventListener('click', () => activateSection('code'));
    textBtn.addEventListener('click', () => activateSection('text'));

    // Whiteboard Drawing (basic)
    const canvas = document.getElementById('whiteboard');
    const ctx = canvas.getContext('2d');
    let drawing = false;

    function resizeCanvas() {
      canvas.width = whiteboardSection.clientWidth;
      canvas.height = whiteboardSection.clientHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    canvas.addEventListener('mousedown', () => drawing = true);
    canvas.addEventListener('mouseup', () => drawing = false);
    canvas.addEventListener('mousemove', draw);

    function draw(e) {
      if (!drawing) return;
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      ctx.fillStyle = 'black';
      ctx.beginPath();
      ctx.arc(x, y, 2, 0, Math.PI * 2);
      ctx.fill();
    }

    // Chat box (demo only, not real-time)
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');
    const chatMessages = document.getElementById('chatMessages');

    sendBtn.addEventListener('click', () => {
      const msg = chatInput.value.trim();
      if (msg) {
        const div = document.createElement('div');
        div.textContent = "You: " + msg;
        chatMessages.appendChild(div);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        chatInput.value = "";
      }
    });

    // Video placeholders (real-time requires WebRTC + backend)
    const localVideo = document.getElementById('localVideo');
    const remoteVideo = document.getElementById('remoteVideo');

    async function initVideo() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
        localVideo.srcObject = stream;
        // You'd need signaling to send stream to remote user
      } catch (e) {
        console.error('Video init error:', e);
      }
    }

    initVideo();
  </script>
</body>
</html>






